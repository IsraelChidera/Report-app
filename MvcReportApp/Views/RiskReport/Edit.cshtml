@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model Report.BLL.Models.ReportVM;
@using static Report.DAL.Enums.HazardRatingEnum;
@using static Report.DAL.Enums.RiskImpactEnum;
@using static Report.DAL.Enums.RiskProbabilityEnum;
@{
    Layout = "_LayoutReport";
}

<h1>
    Edit Report
</h1>


<form asp-controller="RiskReport" asp-action="Alter">

    @if (ViewBag.ErrMsg != null)
    {

        {
            <div class="alert alert-danger alert-dismissible fade show"
         role="alert">
                <strong>Error!</strong> @ViewBag.ErrMsg
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }
    }

    <div class="alert-danger" asp-validation-summary="@ValidationSummary.All"></div>

    <div class="mb-3">
        @*<label asp-for="@Model.EmployeeId" class="form-label"></label>*@
        <input type="hidden" class="form-control" asp-for="@Model.EmployeeId">
        @*<span asp-validation-for="EmployeeId"></span>*@
    </div>

    <div class="mb-3">
        @*<label asp-for="@Model.Id" class="form-label"></label>*@
        <input type="hidden" class="form-control" asp-for="@Model.Id">
        @*<span asp-validation-for="Id"></span>*@
    </div>


    <div class="mb-3">
        <label asp-for="Location" class="form-label"></label>
        <input class="form-control" asp-for="Location">
        <span asp-validation-for="Location"></span>
    </div>

    <div class="mb-3">
        <label asp-for="HazardDescription" class="form-label">Hazard description</label>
        <textarea class="form-control" asp-for="HazardDescription"></textarea>
    </div>

    <div class="mb-3">
        <label asp-for="ResourceAtRisk" class="form-label">Resource at risk</label>
        <input class="form-control" asp-for="ResourceAtRisk">
        <span asp-validation-for="ResourceAtRisk"></span>
    </div>

    <div class="mb-3">
        <label asp-for="RiskProbability" class="form-label">Risk probability</label>

        <select class="form-select"
                asp-for="RiskProbability" asp-items="Html.GetEnumSelectList <RiskProbability>()">
            <option selected="" value="">Pick a Risk Probability</option>

        </select>
    </div>

    <div class="mb-3">
        <label asp-for="@Model.RiskImpact" class="form-label">Risk impact</label>
        <select class="form-select" 
                asp-for="@Model.RiskImpact" asp-items="Html.GetEnumSelectList <RiskImpact>()">
            <option selected="" value="">Pick a Risk Impact</option>

        </select>
    </div>

    <div class="mb-3">
        <label asp-for="@Model.PreventiveMeasure" class="form-label">Preventive measure</label>
        <input class="form-control" asp-for="@Model.PreventiveMeasure">
        <span asp-validation-for="PreventiveMeasure"></span>
    </div>

    <div class="mb-3">
        <label asp-for="@Model.HazardRating" class="form-label">Hazard rating</label>
        <select class="form-select" 
                asp-for="@Model.HazardRating" asp-items="Html.GetEnumSelectList <HazardRating>()">
            <option selected="" value="">Pick a rating of the hazard</option>

        </select>
    </div>

    <div class="mb-3">
        <label asp-for="AdditionalInfo" class="form-label">Additional info</label>
        <textarea class="form-control" asp-for="AdditionalInfo"></textarea>
    </div>

    <div class="text-center">
        
        <button type="submit" class="btn btn-primary">Save</button>
        @*<input type="submit" value="Create report" class="btn btn-primary w-100"/>*@

    </div>
</form>
